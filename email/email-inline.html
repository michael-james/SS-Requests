<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" style="--blue: #007bff; --breakpoint-lg: 992px; --breakpoint-md: 768px; --breakpoint-sm: 576px; --breakpoint-xl: 1200px; --breakpoint-xs: 0; --cyan: #17a2b8; --danger: #dc3545; --dark: #343a40; --font-family-monospace: SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace; --font-family-sans-serif: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji'; --gray: #6c757d; --gray-dark: #343a40; --green: #28a745; --indigo: #6610f2; --info: #17a2b8; --light: #f8f9fa; --orange: #fd7e14; --pink: #e83e8c; --primary: #007bff; --purple: #6f42c1; --red: #dc3545; --secondary: #6c757d; --success: #28a745; --teal: #20c997; --warning: #ffc107; --white: #fff; --yellow: #ffc107; -ms-overflow-style: scrollbar; -ms-text-size-adjust: 100%; -webkit-tap-highlight-color: transparent; -webkit-text-size-adjust: 100%; box-sizing: border-box; font-family: sans-serif; line-height: 1.15;">
    <head style="box-sizing: border-box;">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" style="box-sizing: border-box;">
        <title style="box-sizing: border-box;"></title>
        
	
    </head>
    <body style="background-color: #fff; box-sizing: border-box; color: #212529; font-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji'; font-size: 1rem; font-weight: 400; line-height: 1.5; margin: 0; text-align: left;">
        <table border="0" cellpadding="0" cellspacing="0" height="100%" width="100%" id="bodyTable" style="border-collapse: collapse; box-sizing: border-box;">
            <tr style="box-sizing: border-box;">
                <td align="center" valign="top" style="box-sizing: border-box;">
                    <table border="0" cellpadding="20" cellspacing="0" id="emailContainer" style="border-collapse: collapse; box-sizing: border-box;">
                        <tr style="box-sizing: border-box;">
                            <td align="left" valign="top" style="box-sizing: border-box;">
                            
<?  console.log('working...');
    console.log(d);
    var d = d || getRequest(80);
    console.log(d);
	var info = position(d.row); ?>

<p style="box-sizing: border-box; margin-bottom: 1rem; margin-top: 0;">
<? if (!d.dFiles && d.startDate) { ?>
	We <?= d.daysStart < 0 ? 'were' : 'are' ?> expecting your <strong style="box-sizing: border-box; font-weight: bolder;">files</strong> <?= bdText(d.startDate && d.startDate.format(dfo), d.daysStart, 0) ?>. When they arrive, please <a href="<?= url ?>" style="-webkit-text-decoration-skip: objects; background-color: transparent; box-sizing: border-box; color: #007bff; text-decoration: none;">mark them as ready</a>.
<? } else if (!d.dREV) { ?>
	Please make sure your files are on <strong style="box-sizing: border-box; font-weight: bolder;"><?= d.server.slice(4) ?></strong> at the file path* <u style="box-sizing: border-box;"><?= d.server[0] ?>:/<?= d.client ?>/<?= d.protocol ?>/z - To Assistant/<strong style="box-sizing: border-box; font-weight: bolder;"><?= d.timestamp && d.timestamp.format("YYYY.MM.DD") ?> -- <?= d.id ?></strong></u>.
<? } ?>
</p>

<p style="box-sizing: border-box; margin-bottom: 1rem; margin-top: 0;">
<? if (d.hardDueDate) { ?>
	Your <strong style="box-sizing: border-box; font-weight: bolder;">hard</strong> deadline <?= bdText(d.hardDueDate && d.hardDueDate.format(dtfo), d.daysDue, 1) ?>.<br style="box-sizing: border-box;">
<? } ?>

<? if (d.prefDueDate) { ?>
	Your <strong style="box-sizing: border-box; font-weight: bolder;">preferred</strong> deadline <?= bdText(d.prefDueDate && d.prefDueDate.format(dfo), d.daysPref, 1) ?>.<br style="box-sizing: border-box;">
<? } ?>

<? if (d.expRetDate && d.daysExp >= 0) { ?>
	We currently <strong style="box-sizing: border-box; font-weight: bolder;">estimate</strong> that we will deliver the screenshots for your review <?= bdText(d.expRetDate && d.expRetDate.format(dfo), d.daysExp, 0) ?>.
<? } ?>
</p>

<p style="box-sizing: border-box; margin-bottom: 1rem; margin-top: 0;"><span class="text-muted" style="box-sizing: border-box; color: #6c757d !important;">
	This is the <strong style="box-sizing: border-box; font-weight: bolder;"><?= ord(info.pos) ?></strong> request in our queue.

<? if (info.posNotStart) { ?>
	It is the <strong style="box-sizing: border-box; font-weight: bolder;"><?= ord(info.posNotStart) ?></strong> request out of those we have not yet started.
<? } ?>

<? if (info.wkbksBefore) { ?>
	There are approximately <?= info.wkbksBefore ?> workbooks ahead of this request

	<? if (info.wkbksBeforeNotStart) { ?>
&nbsp;(of which <?= info.wkbksBeforeNotStart ?> have not been started)
	<? } ?>
.
<? } ?>
</span></p>

<? if (!d.dRev) { ?>
<p style="box-sizing: border-box; margin-bottom: 1rem; margin-top: 0;">
	<span class="text-muted" style="box-sizing: border-box; color: #6c757d !important; font-size: 75%;"><i style="box-sizing: border-box;">*It's ok if your file path is</i> slightly <i style="box-sizing: border-box;">different because of the way client/study folders are named.</i>
</span></p>
<? } ?>

<!-- <p style="white-space: pre-wrap;"><?= Logger.getLog() ?></p> -->



                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </body>
</html>